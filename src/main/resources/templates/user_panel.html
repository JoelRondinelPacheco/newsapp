<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
<div th:replace="~{fragments/head :: head (title ='Informacion personal')}"></div>

<body>
<div th:replace="~{fragments/header :: header}"></div>
<main class="container">
    <div th:if="${error}"> <h4 th:text="${error}"></h4></div>
    <div th:if="${success}"> <h4 th:text="${success}"></h4></div>
    <form th:action="@{'/user/edit/' + ${user.id}}" method="post" enctype="multipart/form-data" class="container w-50">

        <div class="mb-3  text-center">
            <div class="d-inline-block">
                <figure class="position-relative">
                    <img class="logo rounded-circle" id="image" th:src="@{${user.profilePictureId == 'publicimg' ? '/img/user.jpeg' : '/image/' + user.profilePictureId}}"
                    >
                    <figcaption type="button" class="position-absolute top-0 end-0">
                        <button type="button" class="btn-close" aria-label="Close"></button>
                    </figcaption>
                </figure>

            </div>
            <div class="d-flex gap-3">
                <input class="form-control" type="file" id="archive" accept="image/jpeg" name="archive">
            </div>
        </div>

        <div class="row">
            <div class="col">
                <label for="name" class="form-label">Name</label>
                <input type="text" class="form-control" id="name" name="name" th:value="${user.name}">
            </div>
            <div class="col">
                <label for="lastname" class="form-label">Last name</label>
                <input type="text" class="form-control" id="lastname" name="lastname" th:value="${user.lastname}">
            </div>
        </div>

        <div class="mb-3">
            <label for="display_name" class="form-label">Display name</label>
            <input type="text" class="form-control" id="display_name" name="display_name" th:value="${user.displayName}">
        </div>

        <!-- IMPLEMETAR CAMBIO DE CONTRASEÑA
        <div class="container mb-3">
            <input type="password" class="form-control" id="inputPassword" name="password" placeholder="Contraseña">
        </div>
        <div class="container mb-3">
            <input type="password" class="form-control" id="inputConfirmPassword" name="confirmpassword" placeholder="Repetir contraseña">
        </div> -->
        <div class="mb-3 text-center">
            <button type="submit" class="btn btn-primary w-50">Editar</button>
        </div>
    </form>
</main>
<script th:src="@{/scripts/register.js}"  type="text/javascript"></script>
</body>
</html>